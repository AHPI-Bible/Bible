<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AHP Bible Project</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>

    <header>
        <div class="header-left">
            <div class="dropdown-wrapper">
                <button id="btn-layout-header" class="icon-btn header-btn" title="좌우 비율">
                    <span class="material-icons" style="font-size: 24px; vertical-align: middle;">view_column</span>
                </button>
                <div id="layout-menu" class="dropdown-menu" style="left: 0; top: 40px;">
                    <div class="menu-item" data-ratio="40-60">4:6</div>
                    <div class="menu-item" data-ratio="50-50">5:5</div>
                    <div class="menu-item" data-ratio="60-40">6:4</div>
                    <div class="menu-item" data-ratio="70-30">7:3</div>
                    <div class="menu-item" data-ratio="100-0">10:0</div>
                </div>
            </div>
        </div>

        <div class="header-content">
            <h1>고대히브리관점 성경해석</h1>
            <span class="sub-title">AHP Bible Project</span>
        </div>

        <div class="header-right" style="display:flex; align-items:center; gap:10px;">
            <button id="header-login-btn" class="nav-btn" style="font-size:0.9rem;">로그인</button>
            
            <button id="btn-settings" class="icon-btn header-settings-btn" title="설정">
                <span class="material-icons">settings</span>
            </button>
        </div>
    </header>

    <div class="nav-container">
        <div class="nav-left-group">
            <div class="history-group">
                <button id="hist-back-btn" class="nav-btn" title="이전 기록">◀</button>
                <button id="hist-fwd-btn" class="nav-btn" title="다음 기록">▶</button>
            </div>
            
            <div class="book-group">
                <button id="btn-ot" class="nav-trigger">구약</button>
                <button id="btn-nt" class="nav-trigger">신약</button>
            </div>
            <div class="move-group">
                <button id="prev-btn" class="nav-btn">◀ 이전 장</button>
                <span id="current-location" class="location-text">창세기 1장</span>
                <button id="next-btn" class="nav-btn">다음 장 ▶</button>
            </div>
        </div>

        <div class="nav-right-group">
            <button id="btn-dark-mode" class="icon-btn" title="다크 모드">🌗</button>

            <div class="search-box">
                <select id="search-lang">
                    <option value="kor" selected>한</option>
                    <option value="eng">영</option>
                    <option value="heb">히</option>
                    <option value="grk">헬</option>
                </select>
                <input type="text" id="search-input" placeholder="단어 검색...">
                <button id="search-btn" class="nav-btn">🔍</button>
            </div>
            
            <button id="toggle-commentary-btn" class="nav-trigger mobile-only">
                <span class="material-icons" style="font-size:1.2rem; vertical-align:middle;">menu_book</span>
            </button>
        </div>
    </div>

    <main class="container">
        <aside id="analysis-panel">
            <div class="panel-header sticky-header">
                <span id="close-analysis-btn" class="material-icons close-icon" style="cursor:pointer;">close</span>
                <span>원전 분해</span>
            </div>
            <div id="analysis-content" class="scrollable-content"></div>
        </aside>

        <aside id="lexicon-panel">
            <div class="panel-header sticky-header">
                <span id="close-lexicon-btn" class="material-icons close-icon" style="cursor:pointer;">close</span>
                <span>원어 사전</span>
            </div>
            <div id="lexicon-content" class="scrollable-content"></div>
        </aside>

        <section id="bible-area">
            <div id="bible-list" class="scrollable-content"></div>
        </section>

        <aside id="commentary-area">
            <div class="panel-header">
                <div style="width: 24px;"></div>
                <div style="display:flex; align-items:center; gap:10px;">
                    <span>AHPI주해 (<span id="current-verse-display">1절</span>)</span>
                    <button id="btn-comm-font-plus" class="icon-btn-small" title="주해 확대">A+</button>
                    <button id="btn-comm-font-minus" class="icon-btn-small" title="주해 축소">A-</button>
                </div>
                <span id="close-commentary-btn" class="material-icons close-icon" style="cursor:pointer;">close</span>
            </div>
            <div id="commentary-content-wrapper" class="scrollable-content">
                <div id="commentary-display">절을 선택하면 주해가 표시됩니다.</div>
                
                <button id="edit-btn" class="action-btn" style="display:none;">주해 작성 / 수정</button>
                
                <div id="editor-container" style="display: none;">
                    <div id="editor-mode-select" style="margin-bottom: 10px; display: flex; gap: 5px;"></div>

                    <textarea id="commentary-input" rows="10" placeholder="주해 내용을 입력하세요..."></textarea>
                    <div class="btn-group">
                        <button id="save-btn" class="save-btn">저장</button>
                        <button id="cancel-btn" class="cancel-btn">취소</button>
                    </div>
                </div>
            </div>
        </aside>
    </main>

    <div id="login-modal" class="modal" style="display: none;">
        <div class="modal-content small-modal">
            <span class="close" id="login-modal-close">&times;</span>
            <h2 style="color: #4a3875; margin-bottom: 20px;">AHPI 회원 로그인</h2>

            <div class="input-group">
                <label for="login-username">사용자 이름</label>
                <input type="text" id="login-username" placeholder="test_member" required>
            </div>
            
            <div class="input-group">
                <label for="login-password">비밀번호</label>
                <input type="password" id="login-password" placeholder="1234" required>
            </div>
            
            <p id="login-message" style="color: red; margin-top: 10px; font-size: 0.9em;"></p>
            
            <button id="login-submit-btn" class="main-btn" style="width: 100%; margin-top: 15px; padding: 10px; background-color: #4a3875; color: white; border: none; border-radius: 5px; cursor: pointer;">
                로그인
            </button>
        </div>
    </div>

    <div id="copy-modal" class="modal-overlay" style="display: none; justify-content: flex-end;">
        <div class="modal-content medium-modal right-aligned-modal">
            <span id="copy-close" class="close-btn">&times;</span>
            <h2>복사</h2>
            <div class="copy-options">
                <div class="range-labels">
                    <span></span> <span class="label-text">시작</span>
                    <span style="width:10px;"></span>
                    <span class="label-text">끝</span>
                </div>
                <div class="copy-row">
                    <button class="copy-btn-small" id="copy-kor">한글 한 절 복사</button>
                    <div class="range-selector">
                        <select id="kor-start" class="verse-select"></select><span>~</span><select id="kor-end" class="verse-select"></select>
                    </div>
                </div>
                <div class="copy-row">
                    <button class="copy-btn-small" id="copy-eng">영어 한 절 복사</button>
                    <div class="range-selector">
                        <select id="eng-start" class="verse-select"></select><span>~</span><select id="eng-end" class="verse-select"></select>
                    </div>
                </div>
                <div class="copy-row">
                    <button class="copy-btn-small" id="copy-ori">원어 한 절 복사</button>
                    <div class="range-selector">
                        <select id="ori-start" class="verse-select"></select><span>~</span><select id="ori-end" class="verse-select"></select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="settings-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content small-modal">
            <span id="settings-close" class="close-btn">&times;</span>
            <h2>설정</h2>
            <div class="settings-options">
                <label><input type="checkbox" id="chk-kor" checked> 한글 본문 보기</label>
                <label><input type="checkbox" id="chk-eng" checked> 영어 본문 보기</label>
                <label><input type="checkbox" id="chk-ori" checked> 원어 본문 보기</label>
            </div>
        </div>
    </div>

    <div id="lexicon-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content lexicon-content">
            <span id="lexicon-close" class="close-btn sticky-close">&times;</span>
            <div id="modal-body"></div>
        </div>
    </div>

    <div id="nav-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content large-modal">
            <span id="nav-modal-close" class="close-btn">&times;</span>
            <h2 id="nav-modal-title">성경 선택</h2>
            <div id="nav-grid" class="grid-container"></div>
        </div>
    </div>

    <div id="chapter-nav-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content small-modal">
            <span id="chapter-nav-close" class="close-btn">&times;</span>
            <h2 id="chapter-modal-title">장 선택</h2>
            <div id="chapter-grid" class="grid-container number-grid"></div>
        </div>
    </div>

    <div id="search-result-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <span id="search-close" class="close-btn">&times;</span>
            <h2>검색 결과</h2>
            <div id="search-results-body"></div>
        </div>
    </div>

    <div id="toast-message" class="toast hidden">복사되었습니다</div>

    <script src="script.js"></script>
</body>
</html>